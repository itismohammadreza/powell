import{a as C}from"./chunk-YBFAOHHE.js";import{B as fe,E as ge,F as ye,H as ve,I as f,J as x,K as Ce,Nb as S,b as ie,c as se,d as ae,e as le,f as ce,g as de,h as pe,i as ue,j as me,m as he,va as Se,xa as Me,ya as Ae,za as Re}from"./chunk-7COH3BHA.js";import{$ as H,Bc as re,Ha as W,Ka as Y,L as j,Mb as K,Nb as ee,Ob as te,Qc as ne,R as L,_ as k,a as _,ba as z,ca as U,cc as oe,db as Z,ea as B,gb as G,ha as d,i as b,jb as v,ka as $,kb as X,la as Q,rb as J,t as D,u as E,wa as V,y as O,za as q}from"./chunk-S42NPM3K.js";var Fe=(()=>{class o{static \u0275fac=function(r){return new(r||o)};static \u0275cmp=v({type:o,selectors:[["ng-not-found-page"]],decls:2,vars:0,consts:[[1,"size-full","flex","items-center","justify-center"]],template:function(r,i){r&1&&(K(0,"div",0),oe(1,` 404 Not Found
`),ee())},encapsulation:2})}return o})();var we=[{path:"auth",loadChildren:()=>import("./chunk-CDD5MHZW.js").then(o=>o.AuthModule)},{path:"",loadChildren:()=>import("./chunk-WG4F4YXV.js").then(o=>o.MainModule)},{path:"404",component:Fe},{path:"**",redirectTo:"/404",pathMatch:"full"}];var M=class{http;prefix;suffix;constructor(e,t="/assets/i18n/",r=".json"){this.http=e,this.prefix=t,this.suffix=r}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}};var je=o=>new M(o,"assets/i18n/",".json"),Le=o=>o.init(),xe=(()=>{class o{static \u0275fac=function(r){return new(r||o)};static \u0275mod=X({type:o});static \u0275inj=U({providers:[J(()=>Le(d(Ce))),fe,Me,S,Re,Ae],imports:[ve.forRoot({loader:{provide:ye,useFactory:je,deps:[se]}})]})}return o})();var Pe=(o,e)=>{if(d(C).hasToken()){let r=localStorage.getItem("token"),i=o.clone({setHeaders:{Authorization:`Bearer ${r}`}});return e(i)}else return e(o)};var Ie=(o,e)=>{let t=d(S),r=d(ge),i=d(C),p=n=>{t.showToast({severity:"success",detail:n??"\u0628\u0627 \u0645\u0648\u0641\u0642\u06CC\u062A \u0627\u0646\u062C\u0627\u0645 \u0634\u062F"})},u=n=>{t.showToast({severity:"error",detail:n??"\u062E\u0637\u0627\u06CC\u06CC \u0631\u062E \u062F\u0627\u062F\u0647 \u0627\u0633\u062A"})},A=n=>{let{pathname:s}=be(n.url),a=({pathTemplate:c,isCustomApi:y})=>{let w=y?n.urlWithParams:s;if(c instanceof RegExp)return c.test(w);if(c.includes("*")){let Oe=c.replace(/\*/g,".*").replace(/\//g,"\\/");return new RegExp(Oe,"g").test(w)}else return c==w},l=x.findIndex(c=>c.method===n.method&&a(c));return x[l]},be=n=>{let s=document.createElement("a"),a={};return s.href=n,["href","protocol","host","hostname","port","pathname","search","hash"].forEach(l=>{a[l]=s[l]}),s.remove(),a},R=n=>{let s=g.indexOf(n);s>=0&&g.splice(s,1),r.setLoadingState(g.length>0)},m=(n,s,a)=>{let l=A(n);return l?typeof l[a]=="function"?l[a](n,s):l[a]:!1},De=n=>{let s=c=>{if(!c.includes("http"))return"none";let y=new URL(c).search;return new URLSearchParams(y).get("timeout")},a=m(n,null,"timeout"),l=s(n.url);return a=="none"||l=="none"?b:O(+l||a||f.requestTimeout)},g=[],T=new Map,F=new Map,h=o.clone(),N=m(o,null,"catch"),Ee=m(o,null,"loading");if(N){let n=T.get(o.url);if(n)return D(n)}if(Ee){let n=m(o,null,"pathTemplate"),s=m(o,null,"loadingOnlyOnce");F.set(n,(F.get(n)??0)+1),(!s||s&&F.get(n)==1)&&(g.push(h),r.setLoadingState(!0))}return e(h).pipe(De(o),k(n=>{let s=m(o,n,"successMessage");!(n instanceof ie)||/2\d+/.test(n.status.toString())==!1||([!1,void 0].includes(s)||p(s??n.body.message),N&&T.set(o.url,n),R(h))}),j(n=>{let s=m(o,n,"failureMessage");if(![!1,void 0].includes(s)){let{error_description:a}=n.error;u(s??a)}return n.status===403&&i.logout(),R(h),E(()=>n)}),L(()=>{R(h)}))};var ke="@",He=(()=>{class o{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=d(V,{optional:!0});loadingSchedulerFn=d(ze,{optional:!0});_engine;constructor(t,r,i,p,u){this.doc=t,this.delegate=r,this.zone=i,this.animationType=p,this.moduleImpl=u}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-FWC2R23X.js").then(i=>i),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(t):r=t(),r.catch(i=>{throw new H(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:p})=>{this._engine=i(this.animationType,this.doc);let u=new p(this.delegate,this._engine,this.zone);return this.delegate=u,u})}createRenderer(t,r){let i=this.delegate.createRenderer(t,r);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let p=new I(i);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(u=>{let A=u.createRenderer(t,r);p.use(A),this.scheduler?.notify(11)}).catch(u=>{p.use(i)}),p}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static \u0275fac=function(r){Z()};static \u0275prov=z({token:o,factory:o.\u0275fac})}return o})(),I=class{delegate;replay=[];\u0275type=1;constructor(e){this.delegate=e}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,r,i){this.delegate.insertBefore(e,t,r,i)}removeChild(e,t,r){this.delegate.removeChild(e,t,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){this.shouldReplay(t)&&this.replay.push(i=>i.setProperty(e,t,r)),this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.shouldReplay(t)&&this.replay.push(i=>i.listen(e,t,r)),this.delegate.listen(e,t,r)}shouldReplay(e){return this.replay!==null&&e.startsWith(ke)}},ze=new B("");function Te(o="animations"){return Y("NgAsyncAnimations"),$([{provide:G,useFactory:(e,t,r)=>new He(e,t,r,o),deps:[ne,de,q]},{provide:W,useValue:o==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Ne={providers:[re({eventCoalescing:!0}),ae(ce(),le([Pe,Ie])),ue(),Te(),he(we),Se(_({rtl:f.rtl},f.powellConfig)),Q(xe)]};var _e=(()=>{class o{static \u0275fac=function(r){return new(r||o)};static \u0275cmp=v({type:o,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){r&1&&te(0,"router-outlet")},dependencies:[me],encapsulation:2})}return o})();pe(_e,Ne).catch(o=>console.error(o));
