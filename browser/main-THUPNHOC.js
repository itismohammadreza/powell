import{a as v}from"./chunk-4SZ6S6CH.js";import{ea as l,fa as T,ga as ae,ha as pe,ja as ce,ka as fe,m as re,q as ne,r as ie,t as se,zb as H}from"./chunk-PAVKT7EH.js";import{D as ee,E as te,F as oe,p as W,s as Z,t as w,u as R,v as J,w as K,x as X,z as Y}from"./chunk-VJJGK5VH.js";import{Bc as V,C as O,Eb as Q,G as b,N as j,R as B,S as D,U as N,W as p,Y as U,b as I,fb as _,gb as z,k as q,l as F,la as $,p as E,qb as G}from"./chunk-CGQZBOUT.js";import{a as g}from"./chunk-HZ6M6AS2.js";var ue=[{path:"auth",loadComponent:()=>import("./chunk-ENA6RYVF.js").then(e=>e.AuthLayoutComponent),children:[{path:"login",loadComponent:()=>import("./chunk-7NCPUZMV.js").then(e=>e.LoginPage),title:"\u0648\u0631\u0648\u062F"},{path:"register",loadComponent:()=>import("./chunk-6BSXWZHT.js").then(e=>e.RegisterPage),title:"\u062B\u0628\u062A \u0646\u0627\u0645"},{path:"",redirectTo:"login",pathMatch:"full"}]},{path:"",loadComponent:()=>import("./chunk-U3OPHKYS.js").then(e=>e.MainLayoutComponent),children:[{path:"showcase",loadChildren:()=>import("./chunk-KJW2CMHC.js").then(e=>e.ShowcaseModule)},{path:"",redirectTo:"showcase",pathMatch:"full"}]},{path:"404",loadComponent:()=>import("./chunk-FZXXZXC5.js").then(e=>e.NotFoundPage)},{path:"**",redirectTo:"/404",pathMatch:"full"}];var S=class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=z({type:e});static \u0275inj=D({providers:[re,H,fe,ce]})};var a={getRequestConfig:e=>{let{pathname:r}=a.getUrlParts(e.url),o=({pathTemplate:i,isCustomApi:m})=>{let f=m?e.urlWithParams:r;if(i instanceof RegExp)return i.test(f);if(i?.includes("*")){let y=i.replace(/\*/g,".*").replace(/\//g,"\\/");return new RegExp(y,"g").test(f)}else return i==f},n=T.findIndex(i=>i.method===e.method&&o(i));return T[n]},getUrlParts:e=>{let r=document.createElement("a"),o=["href","protocol","host","hostname","port","pathname","search","hash"],n={};return r.href=e,o.forEach(i=>{n[i]=r[i]}),r.remove(),n},getRequestProp:(e,r,o)=>{let n=a.getRequestConfig(e);return n?typeof n[o]=="function"?n[o](e,r):n[o]:!1}};var me=(e,r)=>{let o=p(v);if(a.getRequestProp(e,void 0,"skipInterceptor"))return r(e);if(o.getToken()){let i=localStorage.getItem("token");e=e.clone({setHeaders:{Authorization:`Bearer ${i}`}})}return r(e)};var A=new Map,de=(e,r)=>{let o=p(H),n=p(ne),i=p(v),m=t=>{o.showToast({severity:"success",detail:t??"\u0628\u0627 \u0645\u0648\u0641\u0642\u06CC\u062A \u0627\u0646\u062C\u0627\u0645 \u0634\u062F"})},f=t=>{o.showToast({severity:"error",detail:t??"\u062E\u0637\u0627\u06CC\u06CC \u0631\u062E \u062F\u0627\u062F\u0647 \u0627\u0633\u062A"})},d=t=>{let s=u.indexOf(t);s>=0&&u.splice(s,1),n.setLoadingState(u.length>0)},y=t=>{let s=x=>{if(!x.includes("http"))return"none";let ve=new URL(x).search;return new URLSearchParams(ve).get("timeout")},h=a.getRequestProp(t,void 0,"timeout"),k=s(t.url);return h=="none"||k=="none"?I:E(+k||h||l.requestTimeout)},u=[],L=new Map,c=e.clone(),M=a.getRequestProp(e,void 0,"catch"),Re=a.getRequestProp(e,void 0,"loading");if(a.getRequestProp(e,void 0,"skipInterceptor"))return r(c);if(M){let t=L.get(e.url);if(t)return q(t)}if(Re){let t=a.getRequestProp(e,void 0,"pathTemplate"),s=a.getRequestProp(e,void 0,"loadingOnlyOnce");A.set(t,(A.get(t)??0)+1),(!s||s&&A.get(t)==1)&&(u.push(c),n.setLoadingState(!0))}return r(c).pipe(y(e),j(t=>{let s=a.getRequestProp(e,t,"successMessage");!(t instanceof Z)||/2\d+/.test(t.status.toString())==!1||([!1,void 0].includes(s)||m(s??t.body.message),M&&L.set(e.url,t),d(c))}),O(t=>{let s=a.getRequestProp(e,t,"failureMessage");if(![!1,void 0].includes(s)){let{error_description:h}=t.error;f(s??h)}return t.status===403&&i.logout(),d(c),F(()=>t)}),b(()=>{d(c)}))};var P=new N("TRANSLATE_HTTP_LOADER_CONFIG"),He=(()=>{class e{http;config;constructor(){this.config=g({prefix:"/assets/i18n/",suffix:".json",enforceLoading:!1,useHttpBackend:!1},p(P)),this.http=this.config.useHttpBackend?new R(p(w)):p(R)}getTranslation(o){let n=this.config.enforceLoading?`?enforceLoading=${Date.now()}`:"";return this.http.get(`${this.config.prefix}${o}${this.config.suffix}${n}`)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=B({token:e,factory:e.\u0275fac})}return e})();function he(e={}){let r=e.useHttpBackend??!1;return[{provide:P,useValue:e},{provide:ie,useClass:He,deps:[r?w:R,P]}]}var Se=()=>p(ae).init(),Ce={loader:he({prefix:"i18n/",suffix:".json"}),fallbackLang:"en"},ye=g({rtl:l.rtl},l.powellConfig),ge={providers:[$(),V(),ee(ue,te(),oe()),J(X(),K([me,de])),G(()=>Se()),se(Ce),U(S),pe(ye)]};var C=class e{static \u0275fac=function(o){return new(o||e)};static \u0275cmp=_({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(o,n){o&1&&Q(0,"router-outlet")},dependencies:[Y],encapsulation:2})};W(C,ge).catch(e=>console.error(e));
