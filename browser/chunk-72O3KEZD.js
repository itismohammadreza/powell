import{b as V}from"./chunk-YGRP2BZI.js";import{aa as A,ba as N,o as g,p as j}from"./chunk-RNABBULJ.js";import"./chunk-VV4CBK2G.js";import{$b as h,Ab as l,Ca as I,Cb as c,Fb as w,Ib as _,Jb as M,Kb as L,Lb as O,Mb as s,Nb as m,Ob as f,Rb as C,Ub as E,Vb as a,Zb as P,_b as $,ac as y,bb as p,ca as x,cc as b,cd as R,ed as W,fc as Q,ha as S,jb as u,kb as T,mc as D,pc as F,ya as v}from"./chunk-DQ4BICSX.js";var H=["anchor"],B=(e,i,t,n)=>({$implicit:e,index:i,first:t,last:n}),G=e=>({width:e});function J(e,i){e&1&&C(0)}function K(e,i){if(e&1&&l(0,J,1,0,"ng-container",2),e&2){let t=i.$implicit,n=i.$index,o=i.$count,r=a();c("ngTemplateOutlet",r.templateMap.content)("ngTemplateOutletContext",F(2,B,t,n,n===0,n===o-1))}}function U(e,i){e&1&&C(0)}function X(e,i){if(e&1&&l(0,U,1,0,"ng-container",3),e&2){let t=a(2);c("ngTemplateOutlet",t.templateMap.loading)}}function Y(e,i){if(e&1&&l(0,X,1,1,"ng-container"),e&2){let t=a();_(t.loading?0:-1)}}function Z(e,i){if(e&1&&f(0,"p-progressSpinner"),e&2){let t=a(2);w(D(2,G,t.spinnerWidth))}}function ee(e,i){if(e&1&&l(0,Z,1,4,"p-progressSpinner",4),e&2){let t=a();_(t.loading?0:-1)}}var q=(()=>{class e{el=S(I);data;spinnerWidth="40px";scrolled=new v;anchor;templates;loading;templateMap={};observer;ngAfterContentInit(){this.templates.forEach(t=>{let n=t.type;this.templateMap[n]=t.templateRef}),this.observer=new IntersectionObserver(([t])=>{this.loading||t.isIntersecting&&(this.showLoading(),this.scrolled.emit(this.hideLoading))},{root:this.isHostScrollable()?this.el.nativeElement:null}),this.observer.observe(this.anchor.nativeElement)}showLoading=()=>{this.loading=!0};hideLoading=()=>{this.loading=!1};isHostScrollable(){let t=window.getComputedStyle(this.el.nativeElement);return t.getPropertyValue("overflow")==="auto"||t.getPropertyValue("overflow-y")==="scroll"}ngOnDestroy(){this.observer.disconnect()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=u({type:e,selectors:[["ng-infinite-scroll"]],contentQueries:function(n,o,r){if(n&1&&P(r,g,4),n&2){let d;h(d=y())&&(o.templates=d)}},viewQuery:function(n,o){if(n&1&&$(H,7),n&2){let r;h(r=y())&&(o.anchor=r.first)}},inputs:{data:"data",spinnerWidth:"spinnerWidth"},outputs:{scrolled:"scrolled"},standalone:!1,decls:7,vars:1,consts:[["anchor",""],[1,"loading"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],[3,"style"]],template:function(n,o){n&1&&(L(0,K,1,7,"ng-container",null,M),s(2,"div",1),l(3,Y,1,1)(4,ee,1,1),m(),f(5,"div",null,0)),n&2&&(O(o.data),p(3),_(o.templateMap.loading?3:4))},dependencies:[A,R],encapsulation:2})}return e})();var z=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=T({type:e});static \u0275inj=x({imports:[N,W,j]})}return e})();function ne(e,i){if(e&1&&(s(0,"p"),b(1),m()),e&2){let t=i.$implicit,n=i.index;p(),Q("",n+1," - ",t,"")}}function ie(e,i){e&1&&f(0,"i",4)}var we=(()=>{class e{list=[];ngOnInit(){this.initListLazy()}initListLazy(){setTimeout(()=>{this.list.push(...this.generateList())},2e3)}onScroll(t){setTimeout(()=>{this.list.push(...this.generateList()),t()},2e3)}generateList(){return Array.from(Array(20).keys(),()=>"item")}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=u({type:e,selectors:[["ng-infinite-scroll-page"]],decls:4,vars:1,consts:[["component","InfiniteScroll","description","InfiniteScroll is a container to implement infinitely loading data.",1,"[&_.p-panel-content]:overflow-scroll","[&_.p-panel-content]:max-w-[500px]"],[3,"scrolled","data"],["ngTemplate","content"],["ngTemplate","loading"],[1,"pi","pi-spinner","pi-spin","h3"]],template:function(n,o){n&1&&(s(0,"ng-preview",0)(1,"ng-infinite-scroll",1),E("scrolled",function(d){return o.onScroll(d)}),l(2,ne,2,2,"ng-template",2)(3,ie,1,0,"ng-template",3),m()()),n&2&&(p(),c("data",o.list))},dependencies:[z,q,g,V],encapsulation:2})}return e})();export{we as InfiniteScrollPage};
