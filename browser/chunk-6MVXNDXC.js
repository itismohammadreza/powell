import{b as K}from"./chunk-FYDG5BVX.js";import{Ba as C,Ca as J,ga as z,ha as G}from"./chunk-CADEN62Y.js";import{$b as A,Ab as r,Cb as m,Fb as $,Ib as u,Jb as P,Kb as I,L as O,Lb as k,Mb as p,Nb as l,Ob as D,Rb as g,Vb as c,X as E,Zb as N,ac as H,bb as a,bc as x,ca as F,cc as f,cd as L,dc as Q,dd as q,ec as R,jb as _,kb as W,mc as h,nc as b,pa as w,s as v,t as d,v as y,vc as j,wc as B,z as M,zc as S}from"./chunk-S42NPM3K.js";var V=e=>({$implicit:e}),Z=(e,i)=>({width:e,height:i});function ee(e,i){e&1&&g(0)}function te(e,i){if(e&1&&r(0,ee,1,0,"ng-container",3),e&2){let t=c(2),n=x(4);m("ngTemplateOutlet",t.templateMap.loading||n)}}function ne(e,i){e&1&&g(0)}function ie(e,i){if(e&1&&r(0,ne,1,0,"ng-container",4),e&2){let t=c(),n=c(),o=x(6);m("ngTemplateOutlet",n.templateMap.error||o)("ngTemplateOutletContext",h(2,V,t.error))}}function oe(e,i){e&1&&g(0)}function ae(e,i){if(e&1&&r(0,oe,1,0,"ng-container",4),e&2){let t=c(),n=c();m("ngTemplateOutlet",n.templateMap.content)("ngTemplateOutletContext",h(2,V,t.data))}}function re(e,i){if(e&1&&r(0,te,1,1,"ng-container")(1,ie,1,4,"ng-container")(2,ae,1,4,"ng-container"),e&2){let t=i;u(t.loading?0:-1),a(),u(t.error?1:-1),a(),u(!t.loading&&!t.error?2:-1)}}function pe(e,i){if(e&1&&(p(0,"div",5),D(1,"p-progressSpinner",6),l()),e&2){let t=c();a(),$(b(4,Z,t.spinnerWidth,t.spinnerHeight)),m("strokeWidth",t.spinnerStrokeWidth.toString())("fill",t.spinnerFill)}}function le(e,i){if(e&1&&(p(0,"div",7)(1,"div",8),f(2,"\u26A0"),l(),p(3,"div",9)(4,"p"),f(5),l()()()),e&2){let t=i.$implicit;a(5),Q(t)}}var X=(()=>{class e{data;validate;spinnerStrokeWidth=4;spinnerFill;spinnerWidth="70px";spinnerHeight="70px";templates;templateMap={};state$;ngAfterContentInit(){this.templates.forEach(t=>{let n=t.type;this.templateMap[n]=t.templateRef})}ngOnInit(){if(!this.data){this.state$=d({loading:!0,data:null,error:null});return}}ngOnChanges(t){if(t.data&&this.data){let n=y(this.data)?this.data:v(this.data);this.state$=n.pipe(M(o=>{if(this.validate){let s=this.validate(o);if(s)return{loading:!1,data:null,error:s}}return{loading:!1,data:o,error:null}}),E({loading:!0,data:null,error:null}),O(o=>d({loading:!1,data:null,error:o})))}}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=_({type:e,selectors:[["pw-suspense"]],contentQueries:function(n,o,s){if(n&1&&N(s,C,4),n&2){let T;A(T=H())&&(o.templates=T)}},inputs:{data:"data",validate:"validate",spinnerStrokeWidth:"spinnerStrokeWidth",spinnerFill:"spinnerFill",spinnerWidth:"spinnerWidth",spinnerHeight:"spinnerHeight"},standalone:!1,features:[w],decls:7,vars:3,consts:[["defaultLoadingTpl",""],["defaultErrorTpl",""],[1,"suspense-wrapper"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"loading"],[3,"strokeWidth","fill"],[1,"error-container"],[1,"icon"],[1,"message"]],template:function(n,o){if(n&1&&(p(0,"div",2),r(1,re,3,3),j(2,"async"),r(3,pe,2,7,"ng-template",null,0,S)(5,le,6,1,"ng-template",null,1,S),l()),n&2){let s;a(),u((s=B(2,1,o.state$))?1:-1,s)}},dependencies:[z,L,q],encapsulation:2})}return e})();var Y=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=W({type:e});static \u0275inj=F({imports:[G,J]})}return e})();function me(e,i){if(e&1&&(p(0,"li"),f(1),l()),e&2){let t=i.$implicit;a(),R("item-",t,"")}}function ce(e,i){if(e&1&&(p(0,"ul"),I(1,me,2,1,"li",null,P),l()),e&2){let t=i.$implicit;a(),k(t)}}var We=(()=>{class e{list;ngOnInit(){setTimeout(()=>{this.list=d([1,2,3,4,5])},3e3)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=_({type:e,selectors:[["suspense-page"]],decls:3,vars:1,consts:[["component","Suspense","description","Suspense is a container to show a loading template until data loaded."],[3,"data"],["pwTemplate","content"]],template:function(n,o){n&1&&(p(0,"preview",0)(1,"pw-suspense",1),r(2,ce,3,0,"ng-template",2),l()()),n&2&&(a(),m("data",o.list))},dependencies:[Y,X,C,K],encapsulation:2})}return e})();export{We as SuspensePage};
