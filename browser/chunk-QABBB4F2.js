import{a as w,b as O}from"./chunk-J7GCARXK.js";import{a as l,oa as d,pa as y,qa as D}from"./chunk-UYPYFUD6.js";import"./chunk-VJJGK5VH.js";import{Bb as h,Cb as n,Db as F,M as f,Nb as s,W as c,fb as v,jc as k,kb as b,ra as g}from"./chunk-CGQZBOUT.js";import{a as u,b as m}from"./chunk-HZ6M6AS2.js";var C=class r extends O{destroy$=c(d);previewOptions=[{field:"header",value:"Dialog"},{field:"draggable",value:!1},{field:"resizable",value:!1},{field:"modal",value:!0},{field:"position",selectOptions:"dialogPositions",value:"center"},{field:"blockScroll",value:!1},{field:"closeOnEscape",value:!1},{field:"dismissableMask",value:!1},{field:"closable",value:!0},{field:"showHeader",value:!0},{field:"maximizable",value:!0},{field:"acceptVisible",value:!0},{field:"rejectVisible",value:!0},{field:"rtl",value:this.config.rtl},{field:"defaultFocus",selectOptions:"defaultFocusTypes",value:"accept"}];dialogForm={header:"Dialog",draggable:!1,resizable:!1,modal:!0,position:"center",blockScroll:!1,closeOnEscape:!1,dismissableMask:!1,closable:!0,showHeader:!0,maximizable:!0,acceptVisible:!0,rejectVisible:!0,defaultFocus:"accept",rtl:this.config.rtl};flag=!0;onOptionChange(e){this.dialogForm[e.field]=e.value}showDialogForm(){this.overlayService.showDialogForm([{component:"input-text",key:"name",label:"Firstname",labelWidth:150,fluid:!0,validations:[{type:"required",validator:l.required,message:"is required"},{type:"minlength",validator:l.minLength(5),message:e=>`${e.value} is not a valid length`},{type:"akbarDenied",validator:this.akbarValidator,message:"akbar denied"}],value:"Default value",onInput:e=>{let{event:t,form:i,currentConfig:p,allConfig:a}=e;a.find(o=>o.key=="book").options=[],t.target.value=="2"?(i.get("book").disable(),a.find(o=>o.key=="book").hidden=!1):(i.get("book").enable(),a.find(o=>o.key=="book").hidden=!0)},hidden:!1},{component:"datepicker",key:"birthdate",label:"Birthdate",labelWidth:150,touchUI:!1,showTime:!0},{component:"multi-select",key:"book",label:"Book",labelWidth:150,validations:[{type:"required",validator:l.required,message:"is required"}],options:this.options}],m(u({},this.dialogForm),{style:{width:"800px"},containerStyleClass:"grid gap-x-3 grid-cols-2",acceptButtonProps:{label:"Accept"},rejectButtonProps:{label:"Close"},submitDisabled:({form:e})=>e.invalid,formValidator:{validator:e=>e.get("name").invalid?{invalidGr:!0}:null,type:"invalidGr",message:"Form is not valid",style:{textAlign:"center",marginTop:"1rem"}}})).pipe(f(this.destroy$)).subscribe(e=>{if(!e)return;let{formValue:t,finalizeSubmit:i}=e;this.flag=!this.flag,alert(JSON.stringify(t)),setTimeout(()=>{i(this.flag)},1e3)})}akbarValidator(e){return e.value=="akbar"?{akbarDenied:!0}:null}static \u0275fac=(()=>{let e;return function(i){return(e||(e=g(r)))(i||r)}})();static \u0275cmp=v({type:r,selectors:[["app-dialog-form-page"]],features:[k([d]),b],decls:2,vars:1,consts:[["component","DialogForm","description","DialogForm is a container to display form in an overlay window.",3,"onOptionChange","previewOptions"],["label","Open Dialog Form",3,"click"]],template:function(t,i){t&1&&(n(0,"app-preview",0),s("onOptionChange",function(a){return i.onOptionChange(a)}),n(1,"pw-button",1),s("click",function(){return i.showDialogForm()}),F()()),t&2&&h("previewOptions",i.previewOptions)},dependencies:[D,y,w],encapsulation:2})};export{C as DialogFormPage};
