import{a as A}from"./chunk-YF7X26IG.js";import{Aa as He,Ba as Pe,C as ve,G as Re,H as Se,J as Ae,Qb as C,c as pe,d as de,e as T,g as ue,h as S,i as fe,j as me,k as he,l as ge,o as ye,va as m,wa as x,xa as Ce,ya as Fe}from"./chunk-AMM63K2M.js";import{$ as s,$a as ee,Ba as J,E as B,Fc as le,J as U,Kb as ie,Lb as se,Mb as ae,S as z,T as $,W as y,X as G,Ya as K,Z as v,aa as V,b as L,ba as Q,bb as te,fc as ce,gb as R,hb as oe,ja as W,ka as Y,m as O,n as q,oa as Z,qa as X,qb as ne,r as j,vb as re}from"./chunk-F47FGTOE.js";import{a as g}from"./chunk-HZ6M6AS2.js";var ke="@",Ee=(()=>{class o{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=s(W);loadingSchedulerFn=s(De,{optional:!0});_engine;constructor(e,n,r,a,c){this.doc=e,this.delegate=n,this.zone=r,this.animationType=a,this.moduleImpl=c}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-FVHU6R5D.js").then(r=>r),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(e):n=e(),n.catch(r=>{throw new $(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:a})=>{this._engine=r(this.animationType,this.doc);let c=new a(this.delegate,this._engine,this.zone);return this.delegate=c,c})}createRenderer(e,n){let r=this.delegate.createRenderer(e,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let a=new N(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(c=>{let d=c.createRenderer(e,n);a.use(d),this.scheduler??=this.injector.get(X,null,{optional:!0}),this.scheduler?.notify(10)}).catch(c=>{a.use(r)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(n){ee()};static \u0275prov=y({token:o,factory:o.\u0275fac})}return o})(),N=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,n,r){this.delegate.insertBefore(t,e,n,r)}removeChild(t,e,n){this.delegate.removeChild(t,e,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(t,e,n)),this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n,r){return this.shouldReplay(e)&&this.replay.push(a=>a.listen(t,e,n,r)),this.delegate.listen(t,e,n,r)}shouldReplay(t){return this.replay!==null&&t.startsWith(ke)}},De=new v("");function Ie(o="animations"){return te("NgAsyncAnimations"),V([{provide:K,useFactory:(t,e,n)=>new Ee(t,e,n,o),deps:[Y,pe,ne]},{provide:J,useValue:o==="noop"?"NoopAnimations":"BrowserAnimations"}])}var H=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=R({type:o,selectors:[["app-not-found-page"]],decls:2,vars:0,consts:[[1,"size-full","flex","items-center","justify-center"]],template:function(e,n){e&1&&(se(0,"div",0),ce(1,` 404 Not Found
`),ae())},encapsulation:2})};var we=[{path:"auth",loadChildren:()=>import("./chunk-3OB2ZTXG.js").then(o=>o.AuthModule)},{path:"",loadChildren:()=>import("./chunk-NGALOSV5.js").then(o=>o.MainModule)},{path:"404",loadComponent:()=>H},{path:"**",redirectTo:"/404",pathMatch:"full"}];var P=class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=oe({type:o});static \u0275inj=G({providers:[ve,C,Pe,He]})};var p={getRequestConfig:o=>{let{pathname:t}=p.getUrlParts(o.url),e=({pathTemplate:r,isCustomApi:a})=>{let c=a?o.urlWithParams:t;if(r instanceof RegExp)return r.test(c);if(r?.includes("*")){let w=r.replace(/\*/g,".*").replace(/\//g,"\\/");return new RegExp(w,"g").test(c)}else return r==c},n=x.findIndex(r=>r.method===o.method&&e(r));return x[n]},getUrlParts:o=>{let t=document.createElement("a"),e=["href","protocol","host","hostname","port","pathname","search","hash"],n={};return t.href=o,e.forEach(r=>{n[r]=t[r]}),t.remove(),n},getRequestProp:(o,t,e)=>{let n=p.getRequestConfig(o);return n?typeof n[e]=="function"?n[e](o,t):n[e]:!1}};var Me=(o,t)=>{let e=s(A);if(p.getRequestProp(o,void 0,"skipInterceptor"))return t(o);if(e.getToken()){let r=localStorage.getItem("token");o=o.clone({setHeaders:{Authorization:`Bearer ${r}`}})}return t(o)};var Te=(o,t)=>{let e=s(C),n=s(Re),r=s(A),a=i=>{e.showToast({severity:"success",detail:i??"\u0628\u0627 \u0645\u0648\u0641\u0642\u06CC\u062A \u0627\u0646\u062C\u0627\u0645 \u0634\u062F"})},c=i=>{e.showToast({severity:"error",detail:i??"\u062E\u0637\u0627\u06CC\u06CC \u0631\u062E \u062F\u0627\u062F\u0647 \u0627\u0633\u062A"})},d=i=>{let l=f.indexOf(i);l>=0&&f.splice(l,1),n.setLoadingState(f.length>0)},w=i=>{let l=D=>{if(!D.includes("http"))return"none";let be=new URL(D).search;return new URLSearchParams(be).get("timeout")},h=p.getRequestProp(i,void 0,"timeout"),E=l(i.url);return h=="none"||E=="none"?L:j(+E||h||m.requestTimeout)},f=[],b=new Map,M=new Map,u=o.clone(),k=p.getRequestProp(o,void 0,"catch"),_e=p.getRequestProp(o,void 0,"loading");if(p.getRequestProp(o,void 0,"skipInterceptor"))return t(u);if(k){let i=b.get(o.url);if(i)return O(i)}if(_e){let i=p.getRequestProp(o,void 0,"pathTemplate"),l=p.getRequestProp(o,void 0,"loadingOnlyOnce");M.set(i,(M.get(i)??0)+1),(!l||l&&M.get(i)==1)&&(f.push(u),n.setLoadingState(!0))}return t(u).pipe(w(o),z(i=>{let l=p.getRequestProp(o,i,"successMessage");!(i instanceof ue)||/2\d+/.test(i.status.toString())==!1||([!1,void 0].includes(l)||a(l??i.body.message),k&&b.set(o.url,i),d(u))}),B(i=>{let l=p.getRequestProp(o,i,"failureMessage");if(![!1,void 0].includes(l)){let{error_description:h}=i.error;c(l??h)}return i.status===403&&r.logout(),d(u),q(()=>i)}),U(()=>{d(u)}))};var _=new v("TRANSLATE_HTTP_LOADER_CONFIG"),Oe=(()=>{class o{http;config;constructor(){this.config=g({prefix:"/assets/i18n/",suffix:".json",enforceLoading:!1,useHttpBackend:!1},s(_)),this.http=this.config.useHttpBackend?new S(s(T)):s(S)}getTranslation(e){let n=this.config.enforceLoading?`?enforceLoading=${Date.now()}`:"";return this.http.get(`${this.config.prefix}${e}${this.config.suffix}${n}`)}static \u0275fac=function(n){return new(n||o)};static \u0275prov=y({token:o,factory:o.\u0275fac})}return o})();function xe(o={}){let t=o.useHttpBackend??!1;return[{provide:_,useValue:o},{provide:Se,useClass:Oe,deps:[t?T:S,_]}]}var qe=()=>s(Ce).init(),je={loader:xe({prefix:"/i18n/",suffix:".json"}),fallbackLang:"en"},Be=g({rtl:m.rtl},m.powellConfig),Ne={providers:[Z(),le(),Ie(),ye(we),fe(he(),me([Me,Te])),re(()=>qe()),Ae(je),Q(P),Fe(Be)]};var I=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=R({type:o,selectors:[["app-root"]],decls:1,vars:0,template:function(e,n){e&1&&ie(0,"router-outlet")},dependencies:[ge],encapsulation:2})};de(I,Ne).catch(o=>console.error(o));
