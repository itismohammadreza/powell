import{a as V}from"./chunk-64MIA23I.js";import{Da as C,Ea as U,a as z,b as G,fa as J,ga as K}from"./chunk-7VVKVORK.js";import{$b as R,Ac as q,Cb as d,Db as u,Dc as v,E as M,Eb as W,Fb as $,Gb as A,Hb as l,Ib as r,Jb as p,Kb as D,P as E,Qb as _,Ua as o,Vb as m,X as w,Yb as N,_b as k,ac as T,dc as Q,fc as f,gb as g,gc as H,hb as F,hc as L,l as y,m as c,mb as s,o as b,qc as x,rc as j,s as I,ta as P,zc as B}from"./chunk-F47FGTOE.js";import"./chunk-HZ6M6AS2.js";var Y=e=>({$implicit:e}),te=(e,n)=>({width:e,height:n});function ne(e,n){e&1&&_(0)}function ie(e,n){if(e&1&&s(0,ne,1,0,"ng-container",3),e&2){let t=m(2),i=T(4);l("ngTemplateOutlet",t.templateMap.loading||i)}}function oe(e,n){e&1&&_(0)}function ae(e,n){if(e&1&&s(0,oe,1,0,"ng-container",4),e&2){let t=m(),i=m(),a=T(6);l("ngTemplateOutlet",i.templateMap.error||a)("ngTemplateOutletContext",x(2,Y,t.error))}}function re(e,n){e&1&&_(0)}function pe(e,n){if(e&1&&s(0,re,1,0,"ng-container",4),e&2){let t=m(),i=m();l("ngTemplateOutlet",i.templateMap.content)("ngTemplateOutletContext",x(2,Y,t.data))}}function se(e,n){if(e&1&&(d(0,ie,1,1,"ng-container"),d(1,ae,1,4,"ng-container"),d(2,pe,1,4,"ng-container")),e&2){let t=n;u(t.loading?0:-1),o(),u(t.error?1:-1),o(),u(!t.loading&&!t.error?2:-1)}}function le(e,n){if(e&1&&(r(0,"div",5),D(1,"p-progressSpinner",6),p()),e&2){let t=m();o(),Q(j(4,te,t.spinnerWidth,t.spinnerHeight)),l("strokeWidth",t.spinnerStrokeWidth.toString())("fill",t.spinnerFill)}}function me(e,n){if(e&1&&(r(0,"div",7)(1,"div",8),f(2,"\u26A0"),p(),r(3,"div",9)(4,"p"),f(5),p()()()),e&2){let t=n.$implicit;o(5),H(t)}}var S=class e{data;validate;spinnerStrokeWidth=4;spinnerFill;spinnerWidth="70px";spinnerHeight="70px";templates;templateMap={};state$;ngAfterContentInit(){this.templates?.forEach(n=>{let t=n.type;this.templateMap[t]=n.templateRef})}ngOnInit(){if(!this.data){this.state$=c({loading:!0,data:void 0,error:void 0});return}}ngOnChanges(n){if(n.data&&this.data){let t=b(this.data)?this.data:y(this.data);this.state$=t.pipe(I(i=>{if(this.validate){let a=this.validate(i);if(a)return{loading:!1,data:null,error:a}}return{loading:!1,data:i,error:null}}),E({loading:!0,data:null,error:null}),M(i=>c({loading:!1,data:null,error:i})))}}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=g({type:e,selectors:[["pw-suspense"]],contentQueries:function(t,i,a){if(t&1&&N(a,C,4),t&2){let O;k(O=R())&&(i.templates=O)}},inputs:{data:"data",validate:"validate",spinnerStrokeWidth:"spinnerStrokeWidth",spinnerFill:"spinnerFill",spinnerWidth:"spinnerWidth",spinnerHeight:"spinnerHeight"},standalone:!1,features:[P],decls:7,vars:3,consts:[["defaultLoadingTpl",""],["defaultErrorTpl",""],[1,"suspense-wrapper"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"loading"],[3,"strokeWidth","fill"],[1,"error-container"],[1,"icon"],[1,"message"]],template:function(t,i){if(t&1&&(r(0,"div",2),d(1,se,3,3),B(2,"async"),s(3,le,2,7,"ng-template",null,0,v)(5,me,6,1,"ng-template",null,1,v),p()),t&2){let a;o(),u((a=q(2,1,i.state$))?1:-1,a)}},dependencies:[J,z,G],encapsulation:2})};var h=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=F({type:e});static \u0275inj=w({imports:[K,U]})};function de(e,n){if(e&1&&(r(0,"li"),f(1),p()),e&2){let t=n.$implicit;o(),L("item-",t)}}function ue(e,n){if(e&1&&(r(0,"ul"),$(1,de,2,1,"li",null,W),p()),e&2){let t=n.$implicit;o(),A(t)}}var Z=class e{list;ngOnInit(){setTimeout(()=>{this.list=c([1,2,3,4,5])},3e3)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=g({type:e,selectors:[["suspense-page"]],decls:3,vars:1,consts:[["component","Suspense","description","Suspense is a container to show a loading template until data loaded."],[3,"data"],["pwTemplate","content"]],template:function(t,i){t&1&&(r(0,"preview",0)(1,"pw-suspense",1),s(2,ue,3,0,"ng-template",2),p()()),t&2&&(o(),l("data",i.list))},dependencies:[h,S,C,V],encapsulation:2})};export{Z as SuspensePage};
