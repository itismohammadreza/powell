import{a as he,b as fe}from"./chunk-VNNYLU23.js";import{a as S}from"./chunk-5HKMBCSA.js";import{Aa as Se,Ba as Me,Da as Ae,Ea as Re,Fa as we,Rb as M,b as ne,c as ie,d as se,e as ae,f as le,g as ce,h as de,i as pe,j as ue,m as me,ra as ge,ua as ye,va as ve,xa as Ce,ya as f,za as P}from"./chunk-ZR7X6MQA.js";import"./chunk-VV4CBK2G.js";import{$ as z,Ha as Y,Ka as Z,L,Lb as ee,Mb as te,Nb as C,Oc as re,R as k,_ as H,a as b,ba as U,ca as B,db as G,ea as $,gb as X,ha as d,i as D,jb as v,ka as Q,kb as J,la as V,rb as K,t as E,u as O,wa as q,y as j,za as W,zc as oe}from"./chunk-CVYA6TWS.js";var Fe=(()=>{class o{static \u0275fac=function(r){return new(r||o)};static \u0275cmp=v({type:o,selectors:[["ng-not-found-page"]],decls:2,vars:0,consts:[[1,"size-full","flex","items-center","justify-center"],["status","404","text","Page not found."]],template:function(r,i){r&1&&(ee(0,"div",0),C(1,"ng-status",1),te())},dependencies:[fe,he],encapsulation:2})}return o})();var xe=[{path:"auth",loadChildren:()=>import("./chunk-G53TABSZ.js").then(o=>o.AuthModule)},{path:"",loadChildren:()=>import("./chunk-FJ3JL4S6.js").then(o=>o.MainModule)},{path:"404",component:Fe},{path:"**",redirectTo:"/404",pathMatch:"full"}];var A=class{http;prefix;suffix;constructor(e,t="/assets/i18n/",r=".json"){this.http=e,this.prefix=t,this.suffix=r}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}};var Le=o=>new A(o,"assets/i18n/",".json"),ke=o=>o.init(),Pe=(()=>{class o{static \u0275fac=function(r){return new(r||o)};static \u0275mod=J({type:o});static \u0275inj=B({providers:[K(()=>ke(d(Se))),ge,Ae,M,we,Re],imports:[Ce.forRoot({loader:{provide:ve,useFactory:Le,deps:[ie]}})]})}return o})();var Ie=(o,e)=>{if(d(S).hasToken()){let r=localStorage.getItem("token"),i=o.clone({setHeaders:{Authorization:`Bearer ${r}`}});return e(i)}else return e(o)};var Te=(o,e)=>{let t=d(M),r=d(ye),i=d(S),p=n=>{t.showToast({severity:"success",detail:n??"\u0628\u0627 \u0645\u0648\u0641\u0642\u06CC\u062A \u0627\u0646\u062C\u0627\u0645 \u0634\u062F"})},u=n=>{t.showToast({severity:"error",detail:n??"\u062E\u0637\u0627\u06CC\u06CC \u0631\u062E \u062F\u0627\u062F\u0647 \u0627\u0633\u062A"})},R=n=>{let{pathname:s}=De(n.url),a=({pathTemplate:c,isCustomApi:y})=>{let x=y?n.urlWithParams:s;if(c instanceof RegExp)return c.test(x);if(c.includes("*")){let je=c.replace(/\*/g,".*").replace(/\//g,"\\/");return new RegExp(je,"g").test(x)}else return c==x},l=P.findIndex(c=>c.method===n.method&&a(c));return P[l]},De=n=>{let s=document.createElement("a"),a={};return s.href=n,["href","protocol","host","hostname","port","pathname","search","hash"].forEach(l=>{a[l]=s[l]}),s.remove(),a},w=n=>{let s=g.indexOf(n);s>=0&&g.splice(s,1),r.setLoadingState(g.length>0)},m=(n,s,a)=>{let l=R(n);return l?typeof l[a]=="function"?l[a](n,s):l[a]:!1},Ee=n=>{let s=c=>{if(!c.includes("http"))return"none";let y=new URL(c).search;return new URLSearchParams(y).get("timeout")},a=m(n,null,"timeout"),l=s(n.url);return a=="none"||l=="none"?D:j(+l||a||f.requestTimeout)},g=[],_=new Map,F=new Map,h=o.clone(),N=m(o,null,"catch"),Oe=m(o,null,"loading");if(N){let n=_.get(o.url);if(n)return E(n)}if(Oe){let n=m(o,null,"pathTemplate"),s=m(o,null,"loadingOnlyOnce");F.set(n,(F.get(n)??0)+1),(!s||s&&F.get(n)==1)&&(g.push(h),r.setLoadingState(!0))}return e(h).pipe(Ee(o),H(n=>{let s=m(o,n,"successMessage");!(n instanceof ne)||/2\d+/.test(n.status.toString())==!1||([!1,void 0].includes(s)||p(s??n.body.message),N&&_.set(o.url,n),w(h))}),L(n=>{let s=m(o,n,"failureMessage");if(![!1,void 0].includes(s)){let{error_description:a}=n.error;u(s??a)}return n.status===403&&i.logout(),w(h),O(()=>n)}),k(()=>{w(h)}))};var He="@",ze=(()=>{class o{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=d(q,{optional:!0});loadingSchedulerFn=d(Ue,{optional:!0});_engine;constructor(t,r,i,p,u){this.doc=t,this.delegate=r,this.zone=i,this.animationType=p,this.moduleImpl=u}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-B3LAZN4B.js").then(i=>i),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(t):r=t(),r.catch(i=>{throw new z(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:p})=>{this._engine=i(this.animationType,this.doc);let u=new p(this.delegate,this._engine,this.zone);return this.delegate=u,u})}createRenderer(t,r){let i=this.delegate.createRenderer(t,r);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let p=new T(i);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(u=>{let R=u.createRenderer(t,r);p.use(R),this.scheduler?.notify(11)}).catch(u=>{p.use(i)}),p}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static \u0275fac=function(r){G()};static \u0275prov=U({token:o,factory:o.\u0275fac})}return o})(),T=class{delegate;replay=[];\u0275type=1;constructor(e){this.delegate=e}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,r,i){this.delegate.insertBefore(e,t,r,i)}removeChild(e,t,r){this.delegate.removeChild(e,t,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){this.shouldReplay(t)&&this.replay.push(i=>i.setProperty(e,t,r)),this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.shouldReplay(t)&&this.replay.push(i=>i.listen(e,t,r)),this.delegate.listen(e,t,r)}shouldReplay(e){return this.replay!==null&&e.startsWith(He)}},Ue=new $("");function _e(o="animations"){return Z("NgAsyncAnimations"),Q([{provide:X,useFactory:(e,t,r)=>new ze(e,t,r,o),deps:[re,ce,W]},{provide:Y,useValue:o==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Ne={providers:[oe({eventCoalescing:!0}),se(le(),ae([Ie,Te])),pe(),_e(),me(xe),Me(b({rtl:f.rtl},f.powellConfig)),V(Pe)]};var be=(()=>{class o{static \u0275fac=function(r){return new(r||o)};static \u0275cmp=v({type:o,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){r&1&&C(0,"router-outlet")},dependencies:[ue],encapsulation:2})}return o})();de(be,Ne).catch(o=>console.error(o));
