<div [attr.dir]="rtl ? 'rtl' : 'ltr'"
     [class]="{
     'toggle-button-wrapper': true,
      'has-label': onLabel || offLabel
     }">
  <pw-form-field
    [ngControl]="ngControl"
    [validation]="validation"
    [hint]="hint"
    [label]="label | pwLabelStar:showRequiredStar:ngControl"
    [labelWidth]="labelWidth"
    [labelPosition]="labelPosition"
    [inputId]="inputId"
    [disabled]="disabled"
    [fluid]="true">
    <ng-template pwTemplate="element" let-isInvalid="isInvalid">
      <p-toggleButton
        [(ngModel)]="value"
        [invalid]="isInvalid"
        [required]="required"
        [disabled]="disabled"
        [name]="name"
        [onLabel]="onLabel"
        [offLabel]="offLabel"
        [onIcon]="onIcon"
        [offIcon]="offIcon"
        [ariaLabel]="ariaLabel"
        [ariaLabelledBy]="ariaLabelledBy"
        [inputId]="inputId"
        [tabindex]="tabindex"
        [iconPos]="iconPos"
        [autofocus]="autofocus"
        [size]="size"
        [allowEmpty]="allowEmpty"
        [fluid]="fluid"
        (onChange)="_onChange($event)">
        @for (t of templates; track t) {
          @if (templateMap[t.type]) {
            <ng-template [pTemplate]="t.type" let-item>
              <ng-container *ngTemplateOutlet="templateMap[t.type];context:{$implicit:item}"/>
            </ng-template>
          }
        }
      </p-toggleButton>
    </ng-template>
  </pw-form-field>
</div>
