<div class="main-content" [ngClass]="getWrapperClasses()">
  <nav class="navbar navbar-expand shadow-sm fixed-top">
    <ng-button
      *ngIf="!sidebarLock && tempSidebarType != 'hover' && tempSidebarType != 'horizontal'"
      icon="pi pi-bars"
      color="primary"
      appearance="text"
      (click)="toggleSidebarClick()">
    </ng-button>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav p-0 m{{ fa ? 'r' : 'l' }}-auto">
        <li class="nav-item p{{ fa ? 'r' : 'l' }}-4 m{{ fa ? 'r' : 'l' }}-4 border-{{ fa ? 'right' : 'left' }}"
            (click)="accountMenu.toggle($event)">
          <span class="m{{ fa ? 'l' : 'r' }}-3">{{ "Admin" }}</span>
          <p-avatar shape="circle" size="large" icon="pi pi-user"></p-avatar>
        </li>
      </ul>
    </div>
  </nav>

  <main>
    <p-menubar [model]="sidebarItems" *ngIf="tempSidebarType == 'horizontal'">
      <ng-template pTemplate="start">
        <ng-logo width="50px"></ng-logo>
      </ng-template>
    </p-menubar>

    <ng-content></ng-content>
  </main>

  <p-sidebar
    [visible]="sidebarVisible"
    [blockScroll]="isModalSidebar"
    [modal]="isModalSidebar"
    [position]="fa ? 'right' : 'left'"
    [showCloseIcon]="false"
    [closeOnEscape]="false"
    (visibleChange)="toggleSidebar($event)">
    <div class="sticky-top section-top pt-3">
      <div class="d-flex align-items-center justify-content-between">
        <ng-logo width="50px"></ng-logo>
        <i class="d-none d-md-block border rounded-circle pi pi-circle{{ sidebarLock ? '-fill' : '' }}"
           (click)="toggleLockSidebarClick()"></i>
      </div>
      <ng-input-text [rtl]="false"
                     inputSize="sm"
                     class="d-block my-3"
                     placeholder="Search Components..."
                     [(ngModel)]="searchValue">
      </ng-input-text>
    </div>
    <p-panelMenu [multiple]="false" [model]="sidebarItems | ngFilter:searchValue:'label'"></p-panelMenu>
  </p-sidebar>

  <ng-button class="config-btn" color="secondary" [class.active]="configSidebarVisible"
             (click)="configSidebarVisible = !configSidebarVisible" icon="pi pi-cog"></ng-button>
</div>

<p-menu
  #accountMenu
  styleClass="rtl"
  [baseZIndex]="1000"
  [popup]="true"
  [model]="accountItems"
></p-menu>

<p-sidebar
  position="left"
  [(visible)]="configSidebarVisible"
  [style]="{width:'30rem'}">
  <div class="h-100 py-3">
    <ng-dropdown
      [label]="'Lang' | translate"
      inputSize="sm"
      labelPos="fix-side"
      [labelWidth]="150"
      class="d-block mb-3"
      [value]="language"
      [options]="[{ label: 'EN', value: 'en' }, { label: 'FA', value: 'fa' }]"
      [rtl]="fa"
      (onChange)="changeLang($event)"
    ></ng-dropdown>
    <ng-dropdown
      [label]="'Sidebar' | translate"
      inputSize="sm"
      labelPos="fix-side"
      [labelWidth]="150"
      class="d-block mb-3"
      [value]="tempSidebarType"
      [options]="sidebarTypes"
      [rtl]="fa"
      (onChange)="changeSidebarType($event)"
    ></ng-dropdown>
    <ng-switch
      [label]="'RTL' | translate"
      labelPos="fix-side"
      [labelWidth]="150"
      class="d-block mb-3"
      [value]="rtl"
      [rtl]="fa"
      (onChange)="changeGlobalConfig('rtl',$event.checked)">
    </ng-switch>
    <ng-dropdown
      [label]="'Theme' | translate"
      inputSize="sm"
      labelPos="fix-side"
      [labelWidth]="150"
      class="d-block mb-3"
      [value]="theme"
      [options]="themes"
      [rtl]="fa"
      (onChange)="changeGlobalConfig('theme',$event.value)"
    ></ng-dropdown>
    <ng-dropdown
      [label]="'LabelPos' | translate"
      inputSize="sm"
      labelPos="fix-side"
      [labelWidth]="150"
      class="d-block mb-3"
      [value]="labelPos"
      [options]="[{label:'fix-side',value:'fix-side'},{label:'fix-top',value:'fix-top'},{label:'float',value:'float'}]"
      [rtl]="fa"
      (onChange)="changeGlobalConfig('labelPos',$event.value)"
    ></ng-dropdown>
    <ng-dropdown
      [label]="'FixLabelPos' | translate"
      inputSize="sm"
      labelPos="fix-side"
      [labelWidth]="150"
      class="d-block mb-3"
      [value]="fixLabelPos"
      [options]="[{label:'fix-side',value:'fix-side'},{label:'fix-top',value:'fix-top'}]"
      [rtl]="fa"
      (onChange)="changeGlobalConfig('fixLabelPos',$event.value)"
    ></ng-dropdown>
    <ng-switch
      [label]="'Filled' | translate"
      labelPos="fix-side"
      [labelWidth]="150"
      class="d-block mb-3"
      [value]="filled"
      [rtl]="fa"
      (onChange)="changeGlobalConfig('filled',$event.checked)">
    </ng-switch>
    <ng-switch
      [label]="'ShowRequiredStar' | translate"
      labelPos="fix-side"
      [labelWidth]="150"
      class="d-block mb-3"
      [value]="showRequiredStar"
      [rtl]="fa"
      (onChange)="changeGlobalConfig('showRequiredStar',$event.checked)">
    </ng-switch>
    <ng-dropdown
      [label]="'InputSize' | translate"
      inputSize="sm"
      labelPos="fix-side"
      [labelWidth]="150"
      class="d-block mb-3"
      [value]="inputSize"
      [options]="[{label:'sm',value:'sm'},{label:'md',value:'md'},{label:'lg',value:'lg'}]"
      [rtl]="fa"
      (onChange)="changeGlobalConfig('inputSize',$event.value)"
    ></ng-dropdown>
    <ng-switch
      [label]="'Ripple' | translate"
      labelPos="fix-side"
      [labelWidth]="150"
      class="d-block mb-3"
      [value]="ripple"
      [rtl]="fa"
      (onChange)="changeGlobalConfig('ripple',$event.checked)">
    </ng-switch>
  </div>
</p-sidebar>
