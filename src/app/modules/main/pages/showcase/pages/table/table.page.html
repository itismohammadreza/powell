<div class="container">
  <p-card dir="ltr"
          header="Table"
          subheader="Table displays data in tabular format."></p-card>
  <p-panel dir="ltr" header="Options">
    <ng-preview-options
      [previewItems]="[
      'selectiveSize',
      'header',
      'rtl',
      ]"
      [(rtl)]="rtl"
      [(selectiveSize)]="size"
      [(header)]="header"
    ></ng-preview-options>
  </p-panel>

  <p-panel dir="ltr" header="Preview">
    <p-table [value]="customers"
             [lazy]="true"
             (onLazyLoad)="loadCustomers($event)"
             responsiveLayout="scroll"
             dataKey="id"
             [selection]="selectedCustomers"
             (selectionChange)="onSelectionChange($event)"
             [selectAll]="selectAll"
             (selectAllChange)="onSelectAllChange($event)"
             [paginator]="true"
             [rows]="10"
             [totalRecords]="totalRecords"
             [loading]="loading"
             [globalFilterFields]="['name','country.name', 'company', 'representative.name']">
      <ng-template pTemplate="header">
        <tr>
          <th style="width: 3rem"></th>
          <th pSortableColumn="name">Name
            <p-sortIcon field="name"></p-sortIcon>
          </th>
          <th pSortableColumn="country.name">Country
            <p-sortIcon field="country.name"></p-sortIcon>
          </th>
          <th pSortableColumn="company">Company
            <p-sortIcon field="company"></p-sortIcon>
          </th>
          <th pSortableColumn="representative.name">Representative
            <p-sortIcon field="representative.name"></p-sortIcon>
          </th>
        </tr>
        <tr>
          <th style="width: 3rem">
            <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
          </th>
          <th>
            <p-columnFilter type="text" field="name"></p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="country.name"></p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="company"></p-columnFilter>
          </th>
          <th>
            <p-columnFilter field="representative" matchMode="in" [showMenu]="false">
              <ng-template pTemplate="filter" let-value let-filter="filterCallback">
                <p-multiSelect [ngModel]="value" appendTo="body" [options]="representatives" placeholder="Any"
                               (onChange)="filter($event.value)" optionLabel="name">
                  <ng-template let-option pTemplate="item">
                    <div class="p-multiselect-representative-option">
                      <img [alt]="option.label" src="assets/showcase/images/demo/avatar/{{option.image}}" width="32"
                           style="vertical-align: middle"/>
                      <span class="ml-1">{{option.name}}</span>
                    </div>
                  </ng-template>
                </p-multiSelect>
              </ng-template>
            </p-columnFilter>
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-customer>
        <tr>
          <td>
            <p-tableCheckbox [value]="customer"></p-tableCheckbox>
          </td>
          <td>{{customer.name}}</td>
          <td>{{customer.country.name}}</td>
          <td>{{customer.company}}</td>
          <td>{{customer.representative.name}}</td>
        </tr>
      </ng-template>
    </p-table>

    <p-table [value]="customers" [paginator]="true" [rows]="10" [showCurrentPageReport]="true" responsiveLayout="scroll"
             currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
             [rowsPerPageOptions]="[10,25,50]">
      <ng-template pTemplate="header">
        <tr>
          <th>Name</th>
          <th>Country</th>
          <th>Company</th>
          <th>Representative</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-customer>
        <tr>
          <td>{{customer.name}}</td>
          <td>{{customer.country.name}}</td>
          <td>{{customer.company}}</td>
          <td>{{customer.representative.name}}</td>
        </tr>
      </ng-template>
      <ng-template pTemplate="paginatorleft">
        <p-button type="button" icon="pi pi-plus" styleClass="p-button-text"></p-button>
      </ng-template>
      <ng-template pTemplate="paginatorright">
        <p-button type="button" icon="pi pi-cloud" styleClass="p-button-text"></p-button>
      </ng-template>
    </p-table>

    <ng-table
      [items]="customers"
      [colDef]="colDef"
      [rtl]="rtl"
      [size]="size"
      filterDisplay="row"
      [captionTitle]="header"
      [local]="true"
      [paginator]="true"
      [lazy]="true"
      dataKey="id"
      [rows]="10"
      [loading]="loading"
      [showJumpToPageInput]="true"
      [showJumpToPageDropdown]="false"
      [totalRecords]="totalRecords"
      [showCurrentPageReport]="false"
      (onLazyLoad)="loadCustomers($event)"
      [actionsConfig]="actionsConfig">
      <ng-template ngTemplate="activity" let-item>
        <div>
          Rendered by template: {{item.activity}}
        </div>
      </ng-template>
    </ng-table>
  </p-panel>
</div>
